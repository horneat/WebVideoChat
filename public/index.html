<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Chat</title>
    <link rel="stylesheet" href="/style.css">
    <base href="/">
</head>
<body>
    <div class="container">
        <!-- Language Selector -->
        <div class="language-selector">
            <select id="languageSelect">
                <option value="en">English</option>
                <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                <option value="tr">T√ºrk√ße</option>
                <option value="es">Espa√±ol</option>
                <option value="fr">Fran√ßais</option>
            </select>
        </div>

        <div class="main-layout">
            <!-- Left Side: Video Area -->
            <div class="video-section">
                <div class="video-container ratio-auto">
                    <!-- Main Video - Remote User -->
                    <div class="video-wrapper main-video">
                        <video id="remoteVideo" autoplay playsinline></video>
                        <div class="video-label" id="remoteLabel">Waiting for partner...</div>
                        <div class="quality-indicator quality-high" id="qualityIndicator">HD</div>
                    </div>

                    <!-- Preview Video - Local User (Small) -->
                    <div class="video-wrapper preview-video">
                        <video id="localVideo" autoplay muted playsinline></video>
                        <div class="video-label">You</div>
                    </div>
                </div>

                <!-- Screen Size Controls -->
                <div class="screen-size-controls">
                    <button class="size-btn" data-ratio="9-16">9:16</button>
                    <button class="size-btn" data-ratio="16-9">16:9</button>
                    <button class="size-btn" data-ratio="1-1">1:1</button>
                    <button class="size-btn active" data-ratio="auto">Auto</button>
                </div>
            </div>

            <!-- Right Side: Controls and Chat -->
            <div class="controls-section">
                <!-- Connection Status -->
                <div id="connectionStatus" class="status" style="display: none;">Connecting...</div>

                <!-- Main Controls -->
                <div class="controls-panel">
                    <h3>Controls</h3>
                    <div class="control-buttons">
                        <button id="muteBtn" class="control-btn">üîá Mute Partner</button>
                        <button id="selfMuteBtn" class="control-btn">ü§´ Mute Self</button>
                        <button id="videoBtn" class="control-btn">üìπ Stop Video</button>
                        <button id="qualityBtn" class="control-btn">‚ö° Quality: Balanced</button>
                        <button id="shareBtn" class="control-btn">üîó Copy Link</button>
                  			<!--<button id="statsToggleBtn" class="control-btn">üìä Show Stats</button>-->
                        <button id="leaveBtn" class="control-btn" style="background: #6c757d;">üö™ Leave</button>
                        <button id="endCallBtn" class="control-btn" style="background: #dc3545;">üìû End Call</button>
                        <button onclick="window.currentVideoChat.debugButtonVisibility()" style="background: #ff9800; color: black; padding: 5px; margin: 5px;">
    Debug Buttons
</button>
                    </div>
                </div>

                <!-- Statistics Panel -->
                <div class="stats-panel">
                    <h3 id="statsHeader" style="cursor: pointer; user-select: none;">Statistics ‚ñº</h3>
                    <div id="statsContent" class="stats-content" style="display: none;">
                        <div class="stat">
                            <span class="stat-label">Bitrate:</span>
                            <span class="stat-value" id="bitrateStat">0 kbps</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Resolution:</span>
                            <span class="stat-value" id="resolutionStat">0x0</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">FPS:</span>
                            <span class="stat-value" id="fpsStat">0</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Packets:</span>
                            <span class="stat-value" id="packetsStat">0</span>
                        </div>
                    </div>
                </div>
                <!-- Chat Section -->
                <div class="chat-panel">
                    <h3>Chat</h3>
                    <div class="chat-container">
                        <div id="chatMessages" class="chat-messages"></div>
                        <div class="chat-input-container">
                            <input type="text" id="chatInput" placeholder="Type a message...">
                            <button id="sendBtn">Send</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts in correct order -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="languages.js"></script>
    <script src="script.js"></script>
</body>
</html>
